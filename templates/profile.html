{% extends 'layout.html' %}

{% block title %}Profile{% endblock %}

{% block content %}
    <h2>Profile Page</h2>
    <div>
        <p>Your account details are below:</p>
        <table>
            <tr>
                <td>Username:</td>
                <td>{{ account[1] }}</td>
            </tr>
            <tr>
                <td>Password:</td>
                <td>{{ account[2] }}</td>
            </tr>
            <tr>
                <td>Email:</td>
                <td>{{ account[3] }}</td>
            </tr>
        </table>
    </div>

    <div>
        {% for item in transactions %}
            <tr>
                <button type="button" class="collapsible" onclick="{{ myexample }}">
                    Basket ID: {{ item[0] }} status: {{ item[1] }}</button>

                <div class="collContent">
                    <p> {{ orderFetching(item[0]) }}</p>
                </div><br/>

            </tr>
        {% endfor %}
    </div>
    <script>
        var coll = document.getElementsByClassName("collapsible");
        var i;

        for (i = 0; i < coll.length; i++) {
            coll[i].addEventListener("click", function() {
                this.classList.toggle("active");
                var content = this.nextElementSibling;
                if (content.style.display === "block") {
                    content.style.display = "none";
                } else {
                    content.style.display = "block";
                }
            });
        }
    </script>
{% endblock %}
